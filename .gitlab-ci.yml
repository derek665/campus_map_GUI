stages:
  - build
  - validation
  - submission

test:
  stage: build
  script: chmod +x gradlew && ./gradlew test --fail-fast
  only: ['tags']

check-files:
  stage: validation
  script: chmod +x gradlew && ./gradlew checkFiles
  only: ['tags']

javadoc:
  stage: validation
  script: chmod +x gradlew && ./gradlew javadoc
  only: ['tags']

submit-hw3:
  stage: submission
  script: git checkout hw3-final
  only: ['tags']